report_comment: >
    This report has been generated by the <a href="https://github.com/CFIA-NCFAD/nf-ionampliseq" target="_blank">CFIA-NCFAD/nf-ionampliseq</a>
    analysis pipeline. For information about how to interpret these results, please see the
    <a href="https://github.com/CFIA-NCFAD/nf-ionampliseq" target="_blank">documentation</a>.
report_section_order:
    software_versions-module:
        order: -1000
    CFIA-NCFAD-nf-ionampliseq-summary-module:
        order: -1001

read_count_multiplier: 1.0
read_count_prefix: ''
read_count_desc: ''

export_plots: true
disable_version_detection: true
max_table_rows: 1000000

module_order:
    - fastqc:
        name: 'PREPROCESS: FastQC (raw reads)'
        anchor: 'fastqc_raw'
        info: 'This section of the report shows FastQC results for the raw reads.'
        path_filters:
            - './fastqc/*.zip'
    - samtools:
        name: 'VARIANTS: Samtools (tmap raw)'
        anchor: 'samtools_tmap'
        info: 'This section of the report shows Samtools counts/statistics after mapping with Torrent Mapper (TMAP).'
        path_filters:
            - './samtools/*'
    - mosdepth:
        name: 'VARIANTS Mosdepth (tmap raw)'
        anchor: 'mosdepth_tmap'
        info: 'This section of the report shows Mosdepth calculated depth statistics after mapping with Torrent Mapper (TMAP)'
        path_filters:
            - './mosdepth/*'
    - bcftools:
        name: 'VARIANTS Bcftools (TVC)'
        anchor: 'bcftools_tvc'
        info: 'This section of the report shows Bcftools calculated statistics after variant calling with Torrent Variant Caller (TVC)'
        path_filters:
            - './bcftools/*'

extra_fn_clean_exts:
    - type: remove
      pattern: .norm.filt
    - type: remove
      pattern: .bcftools_filt

mosdepth_config:
    general_stats_coverage:
        - 1
        - 5
        - 10
        - 30
        - 100
    general_stats_coverage_hidden:
        - 50

run_modules:
    - custom_content
    - fastqc
    - samtools
    - mosdepth
    - bcftools

sp:
    mosdepth/global_dist:
        fn: '*.global.dist.txt'

table_columns_visible:
  "PREPROCESS: FastQC (raw reads)":
    'Median len': false
    'Avg len': true
    'GC': false
    percent_gc: false
    'Dups': false
    percent_duplicates: false
    total_sequences: true
  "VARIANTS: Samtools (tmap raw): stats":
    'Mean insert': false
    reads_mapped: true
    reads_mapped_percent: false
    non_primary_alignments: false
    insert_size_average: false
    error_rate: false
    raw_total_sequences: false
  "VARIANTS: Samtools (tmap raw): flagstat":
    mapped_passed: false
  "VARIANTS Mosdepth (tmap raw)":
    median_coverage: true
  "VARIANTS Bcftools (TVC): Stats":
    number_of_records: true
    number_of_SNPs: true
    number_of_indels: true
    tstv: true
    MNP: true
    'Multiallelic SNP': false
    'Multiallelic': false

table_columns_name:
  "PREPROCESS: FastQC (raw reads)":
    avg_sequence_length: 'Mean Read Length'
    total_sequences: 'Total Reads'
  "VARIANTS: Samtools (tmap raw)":
    insert_size_average: 'Mean Insert Size'
  "VARIANTS Mosdepth (tmap raw)":
    median_coverage: 'Median Depth'

table_columns_placement:
    'PREPROCESS: FastQC (raw reads)':
        avg_sequence_length: 870
    'VARIANTS: Samtools (tmap raw)':
        reads_mapped: 1010
        raw_total_sequences: 1020
        reads_mapped_percent: 1030
    'VARIANTS Bcftools (TVC): Stats':
        number_of_records: 1060
        number_of_SNPs: 1070
        number_of_MNPs: 1080
        number_of_indels: 1090
        tstv: 1100
